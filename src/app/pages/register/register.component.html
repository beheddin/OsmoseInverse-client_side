<div class="form-container">
  <form #registerForm="ngForm" (ngSubmit)="onSubmit(registerForm)">
    <mat-card>
      <mat-card-content>
        <mat-form-field appearance="fill">
          <mat-label>First name</mat-label>
          <mat-icon matPrefix>person</mat-icon>
          <input
            matInput
            type="text"
            name="firstName"
            #firstName="ngModel"
            [(ngModel)]="register.firstName"
            required
          />
          <mat-error *ngIf="firstName.touched && firstName.pristine">
            Required field
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Last name</mat-label>
          <mat-icon matPrefix>person</mat-icon>
          <input
            matInput
            type="text"
            name="lastName"
            #lastName="ngModel"
            [(ngModel)]="register.lastName"
            required
          />
          <mat-error *ngIf="lastName.touched && lastName.pristine">
            Required field
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Email</mat-label>
          <mat-icon matPrefix>email</mat-icon>
          <input
            matInput
            type="email"
            name="email"
            #email="ngModel"
            [(ngModel)]="register.email"
            required
            email
          />
          <!-- <mat-error *ngIf="email.touched && email.pristine">
            Required field
          </mat-error> -->
          <mat-error *ngIf="email.invalid && email.touched">
            <span *ngIf="email.errors?.['required']">Email is required</span>
            <span *ngIf="email.errors?.['email']">Please enter a valid email address</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Role</mat-label>
          <mat-icon matPrefix>group</mat-icon>
          <mat-select
            name="role"
            #role="ngModel"
            [(ngModel)]="register.role"
            required
          >
            <mat-option *ngFor="let role of roles" [value]="role">{{
              role
            }}</mat-option>
          </mat-select>
          <!-- <input
            matInput
            type="text"
            name="role"
            #role="ngModel"
            [(ngModel)]="register.role"
          /> -->
          <mat-error *ngIf="role.touched && role.pristine">
            Required field
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Cin</mat-label>
          <!-- <mat-icon matPrefix>id_card</mat-icon> -->
          <!-- <mat-icon matPrefix>badge</mat-icon> -->
          <mat-icon matPrefix>pin</mat-icon>
          <!-- <mat-icon matPrefix>
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M560-440h200v-80H560v80Zm0-120h200v-80H560v80ZM200-320h320v-22q0-45-44-71.5T360-440q-72 0-116 26.5T200-342v22Zm160-160q33 0 56.5-23.5T440-560q0-33-23.5-56.5T360-640q-33 0-56.5 23.5T280-560q0 33 23.5 56.5T360-480ZM160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm0-80h640v-480H160v480Zm0 0v-480 480Z"/></svg>
          </mat-icon> -->
          <input
            matInput
            type="text"
            name="cin"
            #cin="ngModel"
            [(ngModel)]="register.cin"
            required
            minlength="3"
          />

          <!-- alert msgs -->
          <mat-error *ngIf="cin.touched && cin.pristine">
            Required field
          </mat-error>
          <mat-hint *ngIf="cin.invalid && cin.dirty">
            Cin must contain at least
            {{ cin.errors?.['minlength']?.requiredLength }}
            characters
          </mat-hint>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Password</mat-label>
          <!-- <mat-icon matPrefix>lock</mat-icon> -->
          <!-- <mat-icon matPrefix>key</mat-icon> -->
          <mat-icon matPrefix>password</mat-icon>
          <input
            matInput
            type="password"
            name="password"
            #password="ngModel"
            [(ngModel)]="register.password"
            required
            minlength="3"
          />
          <!-- alert msgs -->
          <mat-error *ngIf="password.touched && password.pristine">
            Required field
          </mat-error>
          <mat-hint *ngIf="password.invalid && password.dirty">
            <!-- <mat-hint *ngIf="password.errors?.['minlength'] && password.touched"> -->
            Password must contain at least
            {{ password.errors?.['minlength']?.requiredLength }}
            characters
          </mat-hint>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Confirm Password</mat-label>
          <mat-icon matPrefix>password</mat-icon>
          <input
            matInput
            type="password"
            name="confirmPassword"
            #confirmPassword="ngModel"
            [(ngModel)]="register.confirmPassword"
            required
            (ngModelChange)="validatePasswords()"
          />
          <!-- alert msgs -->
          <mat-error *ngIf="confirmPassword.touched && confirmPassword.pristine">
            Required field
          </mat-error>
          <mat-hint
            *ngIf="
              confirmPassword.touched &&
              !passwordsMatch
            "
          >
            Passwords don't match
          </mat-hint>
        </mat-form-field>
        <button
          mat-raised-button
          type="submit"
          color="primary"
          class="fullwidth-btn"
          [disabled]="
            registerForm.invalid ||
            !passwordsMatch
          "
        >
          Register
        </button>
      </mat-card-content>
    </mat-card>
  </form>
  <!-- {{ registerForm.value | json }} -->
  <!-- {{ register | json }} -->
</div>
